<!DOCTYPE html>
<html>
<head>
	<title>郑州新闻页码</title>
	<meta charset="utf-8">
	<style type="text/css">
		div{
			width: 1000px;
			height: 30px;
			background-color: pink;
			border: 1px solid gray;
		}
		span{
			display: inline-block;
			width: 18px;
			height: 30px;
			padding: 0 5px;
			border-right: 1px solid gray;
			text-align: center;
			line-height: 30px;
			font-size: 12px;
		}
	</style>
</head>
<body>
	<div>
		<!-- <span>1</span>
		<span>1</span>
		<span>1</span>
		<span>1</span>
		<span>1</span> -->
	</div>

	<script type="text/javascript">
		var pages = [];
		for (var i = 1; i <= 166; i++) {
			pages.push(i);
		}
		// console.log(pages);

		// 当前页码
		var currentPage = 1;

		var div = document.querySelector("div");	

		// 当前页码为1
		function showPage1(){
			// 清空div中的内容
			div.innerHTML = "";
			for (var i = 0; i < 9; i++) {
				var span = document.createElement("span");
				if (i <= 5) {
					span.innerHTML = pages[i];
				}else if (i == 6) {
					span.innerHTML = "...";
				}else if (i == 7) {
					span.innerHTML = pages[pages.length - 1];
				}else if (i == 8) {
					span.innerHTML = ">";
				}
				div.appendChild(span);
			}
		}
		showPage1();

		// 当页面为 2-7
		function showPage27(){
			// 清空div中的内容
			div.innerHTML = "";
			var total = 9 + currentPage;
			for (var i = 0; i < total; i++) {
				var span = document.createElement("span");
				if (i == 0) {
					span.innerHTML = "<";
				}else if (i <= total - 1 - 3) {
					span.innerHTML = pages[i - 1];
				}else if (i == total - 3) {
					span.innerHTML = "...";
				}else if (i == total - 2) {
					span.innerHTML = pages[pages.length - 1];
				}else if (i == total - 1) {
					span.innerHTML = ">";
				}
				div.appendChild(span);
			}
		}
		// currentPage = 7;
		// showPage27();

		// 当页面为8-159
		function showPage8159(){
			// 清空div中的内容
			div.innerHTML = "";
			for (var i = 0; i < 17; i++) {
				var span = document.createElement("span");
				if (i == 0) {
					span.innerHTML = "<";
				}else if (i == 1) {
					span.innerHTML = "1";
				}else if (i == 2 || i == 14) {
					span.innerHTML = "...";
				}else if (i == 15) {
					span.innerHTML = pages[pages.length - 1];
				}else if (i == 16) {
					span.innerHTML = ">";
				}else{
					span.innerHTML = pages[currentPage - 9 + i];
				}
				div.appendChild(span);
			}

		}
		// currentPage = 159;
		// showPage8159();

		// 当前页码160-165
		function showPage160165(){
			// 清空div中的内容
			div.innerHTML = "";
			var total = 16 - (currentPage - 160);
			for (var i = 0; i < total; i++) {
				var span = document.createElement("span");
				if (i == 0) {
					span.innerHTML = "<";
				}else if (i == 1) {
					span.innerHTML = "1";
				}else if (i == 2) {
					span.innerHTML = "...";
				}else if (i == total - 1) {
					span.innerHTML = ">";
				}else{
					span.innerHTML = pages[currentPage - 9 + i];
				}
				div.appendChild(span);
			}
		}
		// currentPage = 165;
		// showPage160165();


		// 当前页码166
		function showPage166(){
			// 清空div中的内容
			div.innerHTML = "";
			for (var i = 0; i < 9; i++) {
				var span = document.createElement("span");
				if (i == 0) {
					span.innerHTML = "<";
				}else if (i == 1) {
					span.innerHTML = "1";
				}else if (i == 2) {
					span.innerHTML = "...";
				}else{
					span.innerHTML = pages[currentPage - 9 + i];
				}
				div.appendChild(span);
			}
		}
		// currentPage = 166;
		// showPage166();

		div.onclick = function(e){
			console.log(e.target.innerHTML);
			if (e.target.innerHTML == "&lt;") {
				currentPage = currentPage - 1;
			}else if (e.target.innerHTML == "&gt;") {
				currentPage = currentPage + 1;
			}else if (e.target.innerHTML == "1") {
				currentPage = 1;
			}else if (e.target.innerHTML == "166") {
				currentPage = 166;
			}else if (e.target.innerHTML >= 2 && e.target.innerHTML <= 7) {
				currentPage = parseInt(e.target.innerHTML);
			}else if (e.target.innerHTML >= 8 && e.target.innerHTML <= 159) {
				currentPage = parseInt(e.target.innerHTML);
			}else if (e.target.innerHTML >= 160 && e.target.innerHTML <= 165) {
				currentPage = parseInt(e.target.innerHTML);
			}
			pageClick(currentPage);
		};

		function pageClick(index){
			if (index == "1") {
				showPage1();
			}else if (index == "166") {
				showPage166();
			}else if (index >= 2 && index <= 7) {
				showPage27();
			}else if (index >= 8 && index <= 159) {
				showPage8159();
			}else if (index >= 160 && index <= 165) {
				showPage160165();
			}
		}

	</script>
</body>
</html>